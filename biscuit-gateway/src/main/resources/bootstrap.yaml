spring:
  application:
    name: gateway
  cloud:
    nacos:
      discovery:
        server-addr: ${NACOS_SERVER:localhost:8848}
        namespace: ${NACOS_NAMESPACE:public}
        username: ${NACOS_USERNAME:nacos}
        password: ${NACOS_PASSWORD:nacos}
      config:
        server-addr: ${NACOS_SERVER:localhost:8848}
        namespace: ${NACOS_NAMESPACE:public}
        username: ${NACOS_USERNAME:nacos}
        password: ${NACOS_PASSWORD:nacos}
        group: DEFAULT_GROUP
        file-extension: yaml
        extension-configs:
          - dataId: biscuit-shared-configs.yaml
            group: DEFAULT_GROUP
            refresh: true
    gateway:
      routes:
        - id: auth
          uri: lb://auth
          predicates:
            - Path=/auth/**
          filters:
            - StripPrefix=1


server:
  port: 28000
management:
  server:
    port: 27000
logging:
  file:
    name: logs/${spring.application.name}.log
  config: classpath:logback-spring-sleuth.xml

biscuit:
  gateway:
    no-auth-uris:
      - /auth/**
      - /service-b/**
    disable-csrf: true
